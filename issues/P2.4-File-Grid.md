---
**Status:** To Do
**Priority:** P2 (High)
**Branch:** `feature/P2.4-file-grid`
---

## Overview

Create the main content area displaying files within the selected folder. Uses a data table with sorting and filtering capabilities.

---

## Requirements

- Display columns: Name, Size, Last Modified, Type
- Fetch data from `/api/s3/list` (files part of the response)
- Use shadcn/ui Table component
- Support sorting by column
- Handle large file lists with virtualization

---

## Implementation Steps

### Commit 1: `feat: Create FileGrid component`

```typescript
// components/file-grid.tsx
'use client';

import { useFolderTree } from '@/hooks/use-folder-tree';
import {
  Table,
  TableBody,
  TableCell,
  TableHead,
  TableHeader,
  TableRow,
} from '@/components/ui/table';

interface FileGridProps {
  prefix: string;
}

export function FileGrid({ prefix }: FileGridProps) {
  const { data, isLoading } = useFolderTree(prefix);

  if (isLoading) return <div>Loading...</div>;

  return (
    <Table>
      <TableHeader>
        <TableRow>
          <TableHead>Name</TableHead>
          <TableHead>Size</TableHead>
          <TableHead>Last Modified</TableHead>
          <TableHead>Type</TableHead>
        </TableRow>
      </TableHeader>
      <TableBody>
        {data?.files?.map((file) => (
          <TableRow key={file.key}>
            <TableCell>{file.name}</TableCell>
            <TableCell>{formatBytes(file.size)}</TableCell>
            <TableCell>{formatDate(file.lastModified)}</TableCell>
            <TableCell>{getFileType(file.name)}</TableCell>
          </TableRow>
        ))}
      </TableBody>
    </Table>
  );
}
```

### Commit 2: `feat: Add empty state and loading skeleton`

Handle empty folders with "No files" message and loading skeleton.

---

## Acceptance Criteria

- [ ] Files are listed with correct metadata (name, size, date, type)
- [ ] Navigation updates the grid view
- [ ] Empty folders show a "No files" message
- [ ] Loading skeleton shown during fetch
- [ ] Columns are sortable

---

## Dependencies

- P2.2 List Endpoint
- P2.3 Sidebar Tree (for folder selection state)

## Blocking

- P4.2 Context Menu (right-click actions on files)
- P4.3 CSV Preview (click to preview)
