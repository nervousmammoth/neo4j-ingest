---
**Status:** To Do
**Priority:** P1-MVP (Critical)
**Branch:** `feature/P3.1-uppy-setup`
---

## Overview

Initialize Uppy.io v5 for handling file uploads with support for multipart uploads to S3 via presigned URLs.

---

## User Stories

**As a** developer
**I want** to integrate Uppy.io for file uploads
**So that** users have a robust upload experience with progress tracking, pause/resume, and retry capabilities

**As a** developer
**I want** to configure multipart uploads for large files
**So that** users can upload files larger than 1GB without timeouts

---

## Requirements

- Install `@uppy/core`, `@uppy/react`, `@uppy/aws-s3` (v5)
- Configure Uppy instance with proper options
- Prepare the UI container for the uploader

---

## Implementation Steps

### Commit 1: `feat: Install Uppy dependencies`

```bash
npm install @uppy/core @uppy/react @uppy/aws-s3 @uppy/drag-drop @uppy/status-bar
```

### Commit 2: `feat: Create Uppy instance configuration`

File: `lib/uppy.ts`

```typescript
import Uppy from '@uppy/core';
import AwsS3 from '@uppy/aws-s3';

export function createUppy() {
  return new Uppy({
    restrictions: {
      maxFileSize: 10 * 1024 * 1024 * 1024, // 10GB
    },
    autoProceed: false,
  }).use(AwsS3, {
    shouldUseMultipart: (file) => file.size > 100 * 1024 * 1024, // 100MB
    getUploadParameters: async (file) => {
      const response = await fetch('/api/s3/sign', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({
          filename: file.name,
          contentType: file.type,
        }),
      });
      return response.json();
    },
  });
}
```

### Commit 3: `feat: Create upload zone component`

Basic drag-drop UI container using Uppy React components.

---

## Acceptance Criteria

- [ ] Uppy dashboard or drag-drop area is visible
- [ ] Uppy is initialized without errors
- [ ] File selection works via click and drag-drop
- [ ] Upload queue management UI is functional

---

## Dependencies

- P1.1 Init Project

## Blocking

- P3.3 Drag-Drop Integration
